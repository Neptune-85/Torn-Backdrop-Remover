// ==UserScript==
// @name         Torn - Toggle Backdrops Container (Button)
// @namespace    http://tampermonkey.net/
// @version      1.3
// @description  Adds a "BG" button to toggle visibility of backdrop on Torn.com via display:none/block CSS styling.
// @author       Neptune
// @match        https://www.torn.com/*
// @grant        none
// ==/UserScript==

(function() {
    'use strict';

    // Create the <style> tag for toggling visibility
    const style = document.createElement('style');
    style.id = 'backdrops-style';
    document.head.appendChild(style);

    let hidden = true;

    function updateStyle() {
        style.innerHTML = hidden
            ? `.backdrops-container { display: none !important; }`
            : `.backdrops-container { display: block !important; }`;
        console.log(`Backdrops container is now ${hidden ? 'hidden' : 'visible'}.`);
    }

    updateStyle();

    // Create the toggle button
    const button = document.createElement('button');
    button.textContent = 'BG';
    button.title = 'Toggle Backdrops Container';
    Object.assign(button.style, {
        position: 'fixed',
        top: '10px',
        right: '10px',
        zIndex: '9999',
        padding: '5px 10px',
        backgroundColor: '#222',
        color: '#fff',
        border: '1px solid #444',
        borderRadius: '4px',
        cursor: 'pointer',
        fontSize: '14px',
        fontWeight: 'bold',
        fontFamily: 'sans-serif',
        opacity: '0.7',
    });

    // Hover effect
    button.addEventListener('mouseenter', () => button.style.opacity = '1');
    button.addEventListener('mouseleave', () => button.style.opacity = '0.7');

    // Toggle on click
    button.addEventListener('click', () => {
        hidden = !hidden;
        updateStyle();
    });

    document.body.appendChild(button);
})();
